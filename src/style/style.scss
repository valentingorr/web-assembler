@import "config";
@import "components";

@font-face {
	font-family: Poppins-Light;
	src: url("../assets/fonts/Poppins-Light.ttf");
}

@font-face {
	font-family: Poppins-Medium;
	src: url("../assets/fonts/Poppins-Medium.ttf");
}

@font-face {
	font-family: Poppins-SemiBold;
	src: url("../assets/fonts/Poppins-SemiBold.ttf");
}

@font-face {
	font-family: Poppins-Regular;
	src: url("../assets/fonts/Poppins-Regular.ttf");
}

@keyframes fade-left {
	from {
		opacity: 0;
		transform: translateX(-100%);
	}
	to {
		opacity: 1;
		transform: translateX(0%);
	}
}

@keyframes fade-top {
	from {
		opacity: 0;
		transform: translateY(100%);
	}
	to {
		opacity: 1;
		transform: translateY(0%);
	}
}

@keyframes a-fade-top {
	from {
		opacity: 0;
		transform: translate(-50%, 100%);
	}
	to {
		opacity: 1;
		transform: translate(-50%, -50%);
	}
}

html, html > body, #root {
	@include size(100%);
}

* {
	text-decoration: inherit;
	outline: none;
	border: none;
	box-sizing: border-box;
	align-items: center;
	list-style: none;
}

[scomponent] {
	&[scomponent="input-container"] { @extend %input-container };
	&[scomponent="button"] { @extend %button };
	&[scomponent="label"] { @extend %label };
	&[scomponent="icon"] { @extend %icon };
}

button, a {
	cursor: pointer;
	background-color: transparent;
}

body {
	padding: 0;
	margin: 0;
}

%viewport {
	padding: 0.5em;
	border-radius: 10px;
	background-color: $body-tertiary;
	transition: .3s all ease;
	&:hover {
		background-color: rgba($body-tertiary, .3);
	}
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	grid-gap: 15px;
	[scomponent="input-container"] {
		grid-template-rows: auto auto;
		grid-template-columns: auto auto;
		> label {
			grid-column: 1 / 3;
			font-size: 0.75rem;
		}
		> span {
			@extend %label;
			font-size: 0.75rem;
		}
		&:last-child {
			display: flex;
			flex-direction: column;
			> input[type="color"] {
				width: 100%;
			}
		}
	}
}

body {
	color: $text-primary;
	width: 100vw;
	height: 100vh;
	padding: 0;
	margin: 0;
	> #root {
		font-family: Poppins-Regular, sans-serif;
		background-color: $body-primary;
		width: 100%;
		height: 100%;
		font-size: 2rem;
		display: grid;
		grid-template-rows: auto 1fr;
		> #TopBar {
			display: grid;
			grid-template-rows: 30px auto;
			border-bottom: 2px solid $sep-primary;
			> .frame {
				height: 100%;
				display: grid;
				grid-template-columns: 30px auto;
				padding-left: .25em;
				-webkit-app-region: drag;
				> img {
					@include size(20px);
				}
				> p.title {
					margin: 0;
					font-size: .75rem;
					font-family: Poppins-Light, sans-serif;
				}
			}
			> .menu {
				display: flex;
				> .item {
					@extend %tab;
					.submenu {
						position: absolute;
						left: 100%;
						top: 0;
						background-color: $body-primary;
						border: 1px solid $sep-primary;
						display: flex;
						flex-direction: column;
						align-items: flex-start;
						.item {
							min-width: 150px;
							position: relative;
							display: grid;
							grid-template-columns: 1fr auto;
							p {
								width: 100%;
								padding: 0.5em;
								font-size: 0.8rem;
								margin: 0;
								font-family: Poppins-Medium, sans-serif;
							}
							> svg {
								@include size(10px);
								fill: $color-primary;
								transform: rotate(90deg);
								margin-right: .25em;
							}
							> .binds-wrapper {
								display: flex;
								> .bind {
									color: $text-secondary;
									font-size: 0.75rem;
									margin-right: .5rem;
									font-family: Poppins-Light, sans-serif;
								}
							}
							&:hover, &.selected {
								background-color: $body-secondary;
								> p {
									color: $color-primary;
								}
							}
						}
					}
					> .submenu {
						left: 0;
						top: 100%;
					}
				}
			}
		}
		#ContextMenu {
			display: flex;
			flex-direction: column;
			min-width: 100px;
			position: fixed;
			background-color: $body-primary;
			border: 1px solid $sep-primary;
			z-index: 1000;
			> .item {
				cursor: pointer;
				width: 100%;
				p {
					@extend %label;
				}
				&.icon {
					display: grid;
					grid-template-columns: 20px auto;
					grid-gap: 10px;
					> svg {
						@include size(100%);
						fill: $color-primary;
					}
				}
				&:hover, &.selected {
					background-color: $body-secondary;
					> p {
						color: $color-primary;
					}
				}
			}
		}
		#Notifications-container {
			position: fixed;
			left: 0;
			bottom: 0;
			margin: .5em;
			[component="notification"] {
				padding: 0.5em .3em;
				background-color: $body-primary;
				border: 1px solid $sep-primary;
				margin-top: 10px;
				display: grid;
				grid-template-columns: 20px auto;
				grid-gap: 5px;
				> svg {
					@include size(100%);
					fill: $text-secondary;
				}
				p {
					margin: 0;
					font-size: 1rem;
					font-family: Poppins-Medium, sans-serif;
				}
				&[type="error"] {
					background-color: $color-red;
				}
			}
		}
		[component="form"] {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%);
			background-color: $body-secondary;
			border: 1px solid $sep-primary;
			overflow: hidden;
			display: grid;
			grid-template-rows: auto auto;
			border-radius: 8px;
			animation: a-fade-top ease .3s forwards;
			> header {
				grid-column: 1 / 3;
				display: flex;
				flex-direction: column;
				width: 100%;
				> * {
					width: 100%;
				}
				> header {
					padding: 0.25em;
					background: linear-gradient(90deg, $color-secondary 0%, $color-primary 100%);
					p.title {
						margin: 0;
						font-size: .9rem;
						font-family: Poppins-SemiBold, sans-serif;
					}
				}
			}
			&[form="newProject"] {
				> header {
					> main {
						background-color: $body-primary;
						display: flex;
						flex-direction: row;
						> button {
							margin-right: 5px;
							@extend %tab;
						}
					}
				}
				width: 60%;
				grid-template-columns: 4fr 3fr;
				grid-template-rows: auto auto;
				> .settings {
					background-color: $body-primary;
					padding: .5em;
					display: grid;
					grid-template-rows: repeat(3, auto);
					grid-gap: 10px;
					.viewports {
						> header {
							margin-bottom: 5px;
							display: flex;
							justify-content: space-between;
							> p {
								@extend %label;
							}
						}
						> main {
							position: relative;
							overflow: auto;
							min-height: 100px;
							max-height: 250px;
							> .wrapper {
								// position: absolute;
								// top: 0;
								// left: 0;
								// right: 0;
								display: flex;
								flex-direction: column;
								> .viewport {
									width: 100%;
									margin-bottom: 5px;
									@extend %viewport;
								}
							}
						}
					}
					> footer {
						display: grid;
						grid-template-columns: 1fr 1fr;
						grid-gap: 5px;
					}
				}
			}
		}
		[route] {
			@include size(100%);
		}
	}
}

::-webkit-scrollbar {
	width: 30px;
}
::-webkit-scrollbar-track {
	background: $body-primary;
}
::-webkit-scrollbar-thumb {
	background: $color-primary; 
	border-radius: 15px;
	border: 12px solid $body-primary;
}
::-webkit-scrollbar-thumb:hover {
	background: rgba($color-primary, .8); 
} 